<html>
	<head>
		<title>JS example 17</title>
		<script src="http://code.jquery.com/jquery-2.1.4.js"></script>
	</head>
	<body>
		<p>Hello world!</p>

		<div id="output"></div>

		<canvas id="myCanvas" width="600" height="400" style="border:1px solid #c3c3c3;">
			Your browser does not support the canvas element.
		</canvas>

		<script>
			var image1 = $('<img/>').attr('src', 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png');
			image1.attr('id', 'myImage');
			$('.profile').append(image1);

			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");

			$('<img/>').attr('src', 'https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png').load(function() {
				$('.profile').append($(this));

				$("#output").empty().append("<p>Image id: " + image1.attr('id') + "</p>");
				$("#output").append("<p>Image src: " + image1.attr('src') + "</p>");

				var img = new Image();
				img.src = image1.attr('src');

				$("#output").append("<p>Image width: " + img.naturalWidth + " pixels</p>");
				$("#output").append("<p>Image height: " + img.naturalHeight + " pixels</p>");

				var xpos = 0; /* x = horisontal position */
				var ypos = 0; /* y = vertical position */

				/* crop the upper left of the image */
				crop_x = img.naturalWidth * 0.5;
				crop_y = img.naturalHeight * 0.5;

				ctx.drawImage(img, 0, 0, crop_x, crop_y, xpos, ypos, crop_x, crop_y);
			});
		</script>
	</body>
</html>
